import{r,G as T,y as q,z as N,_ as b,A as I,c as f,H as A,a as h,o as d,b as m,f as e,t as p,g as C,h as S,I as E,i as k,d as g,e as F,j as x,p as B,m as D,F as j,s as G,J as H,k as w,q as M,E as K}from"./index.d415035c.js";import{u as P}from"./meals.e6c404e4.js";async function U(){const s=r([]);return(await T(q(N,"meals"))).forEach(o=>{s.value.push(o.data())}),{mealsList:s}}const z={name:"ModalAddMeal",components:{AppButton:I},props:{picketMeal:{required:!0},closeModal:{required:!0}},setup(s){const t=r(0),o=r(100),a=P();function i(y){let $=s.picketMeal[y];return(parseFloat($)*(o.value/100)).toFixed(1)}const _=f(()=>i("kcal")),n=f(()=>i("carbohydrates")),l=f(()=>i("protein")),c=f(()=>i("fat"));function V(){if(o.value>0){const y={idD:Math.floor(Math.random()*200),meal:{name:s.picketMeal.name,kcal:_.value,carbohydrates:n.value,protein:l.value,fat:c.value,id:s.picketMeal.id}};t.value=1,a.addDailyMeal(y),setTimeout(()=>{s.closeModal()},500)}else t.value=2}const L=r(null);return A(()=>{L.value.focus()}),{times:o,kcal:_,carb:n,protein:l,fat:c,message:t,addToDailyList:V,inputEl:L}}},u=s=>(B("data-v-b113ceca"),s=s(),D(),s),J={class:"modal"},O={class:"form"},Q={class:"form__name"},R={class:"form__box"},W=u(()=>e("span",{class:"form__box-name"},"Calories",-1)),X={class:"form__box-info green"},Y={class:"form__box"},Z=u(()=>e("span",{class:"form__box-name"},"Carbohydrates",-1)),ee={class:"form__box-info orange"},ae={class:"form__box"},se=u(()=>e("span",{class:"form__box-name"},"Protein",-1)),te={class:"form__box-info blue"},oe={class:"form__box"},le=u(()=>e("span",{class:"form__box-name"},"Fat",-1)),ne={class:"form__box-info red"},ce=u(()=>e("label",{class:"form__label"}," How many gram ?",-1)),ie={key:0,class:"form__alert"},de=u(()=>e("span",null,[x("Meal added "),e("i",{class:"fas fa-check-circle"})],-1)),_e=[de],re={key:1,class:"form__alert form__alert-error"},me=u(()=>e("span",null,[x("Please add gram "),e("i",{class:"far fa-times-circle"})],-1)),ue=[me];function pe(s,t,o,a,i,_){const n=h("AppButton");return d(),m("div",J,[e("div",{class:"shadow",onClick:t[0]||(t[0]=(...l)=>o.closeModal&&o.closeModal(...l))}),e("div",O,[e("i",{onClick:t[1]||(t[1]=(...l)=>o.closeModal&&o.closeModal(...l)),class:"fas fa-times-circle form__exit"}),e("h3",Q,p(o.picketMeal.name),1),e("div",R,[W,e("span",X,p(a.kcal),1)]),e("div",Y,[Z,e("span",ee,p(a.carb),1)]),e("div",ae,[se,e("span",te,p(a.protein),1)]),e("div",oe,[le,e("span",ne,p(a.fat),1)]),ce,C(e("input",{class:"form__input",type:"text",ref:"inputEl","onUpdate:modelValue":t[2]||(t[2]=l=>a.times=l),onKeyup:t[3]||(t[3]=E((...l)=>a.addToDailyList&&a.addToDailyList(...l),["enter"]))},null,544),[[S,a.times]]),a.message===1?(d(),m("div",ie,_e)):k("",!0),a.message===2?(d(),m("div",re,ue)):k("",!0),g(n,{class:"form__add",onClick:a.addToDailyList,disabled:a.message==1},{default:F(()=>[x(" Add ")]),_:1},8,["onClick","disabled"])])])}const fe=b(z,[["render",pe],["__scopeId","data-v-b113ceca"]]);const he={name:"MealListFromFirebaseItem",components:{AppButton:I},props:{meal:{required:!0},openModal:{required:!0}},setup(){}},Me={class:"item"};function ve(s,t,o,a,i,_){const n=h("AppButton");return d(),m("li",Me,[e("h3",null,p(o.meal.name),1),g(n,{onClick:t[0]||(t[0]=l=>o.openModal(o.meal)),className:"btn"},{default:F(()=>[x("Add meal")]),_:1})])}const be=b(he,[["render",ve],["__scopeId","data-v-b879f252"]]);const ge={name:"MealListFromFirebase",components:{MealListFromFirebaseItem:be,ModalAddMeal:fe},setup(){const s=r([]);async function t(){const{mealsList:c}=await U();s.value=[...c.value]}A(()=>{t()});const o=r(!1),a=r("");function i(c){a.value=Object.assign(c),o.value=!0}function _(){o.value=!1,a.value=""}const n=r(""),l=f(()=>s.value.filter(c=>c.name.toLowerCase().includes(n.value.toLowerCase())));return{list:s,openModal:i,modal:o,picketMeal:a,closeModal:_,searchMeal:n,filterList:l}}},v=s=>(B("data-v-ec1c44a6"),s=s(),D(),s),xe={class:"box__search"},ye=v(()=>e("i",{class:"fas fa-search icon"},null,-1)),ke={class:"box"},Fe=v(()=>e("img",{src:M,alt:"","aria-hidden":"true",class:"img img1"},null,-1)),Le=v(()=>e("img",{src:M,alt:"","aria-hidden":"true",class:"img img2"},null,-1)),we=v(()=>e("img",{src:M,alt:"","aria-hidden":"true",class:"img img3"},null,-1)),Ie=v(()=>e("img",{src:M,alt:"","aria-hidden":"true",class:"img img4"},null,-1));function Ae(s,t,o,a,i,_){const n=h("MealListFromFirebaseItem"),l=h("ModalAddMeal");return d(),m("div",null,[e("div",xe,[ye,C(e("input",{type:"search",placeholder:"Search Meal","onUpdate:modelValue":t[0]||(t[0]=c=>a.searchMeal=c)},null,512),[[S,a.searchMeal]])]),e("div",ke,[g(H,{name:"list-base",tag:"ul",class:"box__list"},{default:F(()=>[(d(!0),m(j,null,G(a.filterList,c=>(d(),w(n,{key:c.name,meal:c,openModal:a.openModal},null,8,["meal","openModal"]))),128))]),_:1}),Fe,Le,we,Ie]),a.modal?(d(),w(l,{key:0,picketMeal:a.picketMeal,closeModal:a.closeModal},null,8,["picketMeal","closeModal"])):k("",!0)])}const Ce=b(ge,[["render",Ae],["__scopeId","data-v-ec1c44a6"]]),Se="/icons/hamburger.png",Be="/icons/salad.png";const De={name:"MealList",components:{MealListFromFirebase:Ce}},Ve={class:"meal-list"},$e=K('<div class="meal-list__top" data-v-4d3ac7bc><h3 class="meal-list__top-title" data-v-4d3ac7bc>Meal List</h3><img class="meal-list__top-img hamburger" src="'+Se+'" alt="" aria-hidden="true" data-v-4d3ac7bc><img class="meal-list__top-img" src="'+M+'" alt="" aria-hidden="true" data-v-4d3ac7bc><img class="meal-list__top-img salta" src="'+Be+'" alt="" aria-hidden="true" data-v-4d3ac7bc><div class="meal-list__top-shadow" data-v-4d3ac7bc></div></div>',1),Te={class:"meal-list__middle"};function qe(s,t,o,a,i,_){const n=h("MealListFromFirebase");return d(),m("div",Ve,[$e,e("div",Te,[g(n)])])}const Ge=b(De,[["render",qe],["__scopeId","data-v-4d3ac7bc"]]);export{Ge as default};
