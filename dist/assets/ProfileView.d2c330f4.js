import{d as f,_ as y,b as m,j as a,t as b,o as r,p as U,n as D,c as p,E as S,h as N,m as P,s as C,S as L,g as h,f as v,i as u,e as g,x as V,F as A,G as R,K as G,T as K,A as z,u as O,r as w,k as B,l as q,q as H,U as J}from"./index.179807d3.js";import{u as T}from"./meals.1b360ff2.js";const Q=f({name:"UserProfileBox",props:{personalData:{required:!0,type:Object},OpenModalUserEditProfile:{required:!0,type:Function}},setup(e){return{handleClick:()=>{e.OpenModalUserEditProfile()}}}}),X="/icons/frankenstein.png";const Z=e=>(U("data-v-f603f0a6"),e=e(),D(),e),x={class:"profile"},ee=Z(()=>a("img",{src:X,alt:""},null,-1)),te={class:"profile__name family-Nerko"};function ae(e,t,o,n,l,c){return r(),m("div",x,[ee,a("div",te,b(e.personalData.name),1),a("i",{onClick:t[0]||(t[0]=(...s)=>e.handleClick&&e.handleClick(...s)),class:"settings fas fa-cog"})])}const se=y(Q,[["render",ae],["__scopeId","data-v-f603f0a6"]]),oe=f({name:"CaloryChartItem",props:{name:{required:!0,type:String},counted:{required:!0,type:Object},used:{required:!0,type:Object},personalData:{required:!0,type:Object},parameter:{required:!0,type:String}},setup(e){const t=p(()=>e.counted.value==="100%"?"lightgreen":"rgb(115, 184, 152) "),o=p(()=>e.counted.value==="100%"?"lightgreen":"rgba(253, 193, 104,.8)"),n=p(()=>Math.floor(e.used[e.parameter])),l=p(()=>e.personalData[e.parameter]);return{usedParams:n,maxParams:l,backgroundColorColorChangeCircle:t,backgroundColorColorChangeFill:o}}});const ne={class:"item"},re={class:"item__title family-Nerko"},le={class:"item__bar"},ie={key:0,class:"fas fa-check"},ce={key:1,class:"img",src:C,alt:"","aria-hidden":"true"},de={class:"item__info"},ue={class:"color-orange"};function _e(e,t,o,n,l,c){return r(),m("div",ne,[a("h3",re,b(e.name),1),a("div",le,[a("div",{class:"item__bar-fill",style:S({height:e.counted.value,backgroundColor:e.backgroundColorColorChangeFill})},null,4),a("div",{class:"item__bar-circle",style:S({backgroundColor:e.backgroundColorColorChangeCircle})},[e.counted.value==="100%"?(r(),m("i",ie)):N("",!0),e.counted.value==="100%"?(r(),m("img",ce)):N("",!0)],4)]),a("p",de,[a("span",ue,b(e.usedParams),1),P(" / "+b(e.maxParams),1)])])}const pe=y(oe,[["render",_e],["__scopeId","data-v-696818ec"]]),me=f({name:"WindowsComponent"});const fe={class:"window-component"};function ye(e,t,o,n,l,c){return r(),m("div",fe,[L(e.$slots,"default",{},void 0,!0)])}const j=y(me,[["render",ye],["__scopeId","data-v-b5e15bdb"]]),he=f({name:"ComponentTitle"});const $e={class:"title family-Nerko"};function ve(e,t,o,n,l,c){return r(),m("h2",$e,[L(e.$slots,"default",{},void 0,!0)])}const F=y(he,[["render",ve],["__scopeId","data-v-010b5b6e"]]),Ce=f({name:"CaloryChart",components:{CaloryChartItem:pe,WindowComponent:j,ComponentTitle:F},props:{personalData:{required:!0,type:Object},useDailyMeals:{required:!0,type:Object}},setup(e){const t=p(()=>{const i={kcal:0,protein:0,carbohydrates:0,fat:0};return e.useDailyMeals.forEach(d=>{const{meal:_}=d;for(const I in _)for(const E in i)if(I===E&&_[I]!==void 0){const k=_[I];typeof k=="number"?i[E]+=k:typeof k=="string"&&(i[E]+=parseFloat(k))}}),i}),o=p(()=>s("protein")),n=p(()=>s("fat")),l=p(()=>s("carbohydrates")),c=p(()=>s("kcal"));function s(i){const d=t.value[i],_=e.personalData[i];if(d>_)return"100%";if(typeof _=="number")return d/_*100+"%"}return{used:t,ComponentRenderArray:[{name:"Protein",counted:o,parameter:"protein"},{name:"Fat",counted:n,parameter:"fat"},{name:"Carbohydrates",counted:l,parameter:"carbohydrates"},{name:"Calory",counted:c,parameter:"kcal"}]}}});const W=e=>(U("data-v-8653acde"),e=e(),D(),e),be=W(()=>a("img",{class:"img img1",src:C,alt:"","aria-hidden":"true"},null,-1)),ge=W(()=>a("img",{class:"img img2",src:C,alt:"","aria-hidden":"true"},null,-1)),Me={class:"chart__top"},Ue={class:"chart__middle"};function De(e,t,o,n,l,c){const s=u("ComponentTitle"),$=u("CaloryChartItem"),i=u("WindowComponent");return r(),h(i,{class:"chart"},{default:v(()=>[be,ge,a("header",Me,[g(s,null,{default:v(()=>[P("Your Calory")]),_:1})]),a("div",Ue,[(r(!0),m(A,null,V(e.ComponentRenderArray,d=>(r(),h($,{key:d.name,name:d.name,counted:d.counted,used:e.used,personalData:e.personalData,parameter:d.parameter},null,8,["name","counted","used","personalData","parameter"]))),128))])]),_:1})}const ke=y(Ce,[["render",De],["__scopeId","data-v-8653acde"]]),we=f({name:"UserMealListItem",props:{useMeal:{required:!0,type:Object},product:{required:!0,type:Object}},setup(e){const t=p(()=>e.product.meal.name);async function o(n){await e.useMeal.removeMealFromDaily(n)}return{removeMeal:o,productName:t}}});const Pe=e=>(U("data-v-3bf43a6e"),e=e(),D(),e),Ie={class:"item"},Ee=Pe(()=>a("img",{class:"img",src:C,alt:"","aria-hidden":"true"},null,-1)),Be={class:"item-cont"};function qe(e,t,o,n,l,c){return r(),m("li",Ie,[Ee,a("div",Be,[a("h3",null,b(e.productName),1),a("i",{onClick:t[0]||(t[0]=()=>{e.removeMeal(e.product)}),class:"fas fa-trash-alt"})])])}const Ne=y(we,[["render",qe],["__scopeId","data-v-3bf43a6e"]]),Se=f({name:"UserMealListEmpty"});const Le={class:"empty"},Ve=R('<div class="empty__imgs" data-v-f98e79be><img class="img img1" src="'+C+'" alt="" aria-hidden="true" data-v-f98e79be><img class="img img2" src="'+C+'" alt="" aria-hidden="true" data-v-f98e79be><img class="img img3" src="'+C+'" alt="" aria-hidden="true" data-v-f98e79be></div><h3 class="empty__info" data-v-f98e79be>Empty List</h3>',2),Ae=[Ve];function Oe(e,t,o,n,l,c){return r(),m("div",Le,Ae)}const Te=y(Se,[["render",Oe],["__scopeId","data-v-f98e79be"]]),je=f({name:"UserMealList",components:{UserMealListItem:Ne,UserMealListEmpty:Te,WindowComponent:j,ComponentTitle:F},props:{useMeal:{required:!0,type:Object}},setup(e){return{listMeal:p(()=>[...e.useMeal.useDailyMeals])}}});const Fe={class:"box__top"},We={class:"box__list"};function Ye(e,t,o,n,l,c){const s=u("ComponentTitle"),$=u("UserMealListItem"),i=u("UserMealListEmpty"),d=u("WindowComponent");return r(),h(d,{class:"box"},{default:v(()=>[a("header",Fe,[g(s,null,{default:v(()=>[P("Your Daily Meal")]),_:1})]),a("div",We,[g(K,{name:"face",mode:"out-in"},{default:v(()=>[e.listMeal.length>0?(r(),h(G,{key:0,name:"list",tag:"ul",class:"box__list-ul"},{default:v(()=>[(r(!0),m(A,null,V(e.listMeal,_=>(r(),h($,{key:_.meal.id,product:_,useMeal:e.useMeal},null,8,["product","useMeal"]))),128))]),_:1})):(r(),h(i,{key:1}))]),_:1})])]),_:1})}const Re=y(je,[["render",Ye],["__scopeId","data-v-7f1849bd"]]),Ge=f({name:"NewDayButton",components:{AppButton:z},setup(){return{useMeal:T()}}});const Y=e=>(U("data-v-99f02d39"),e=e(),D(),e),Ke=Y(()=>a("i",{class:"fas fa-plus-square"},null,-1)),ze=Y(()=>a("span",null,"New day",-1));function He(e,t,o,n,l,c){const s=u("AppButton");return r(),h(s,{className:"btn",onClick:e.useMeal.newDay},{default:v(()=>[Ke,P(),ze]),_:1},8,["onClick"])}const Je=y(Ge,[["render",He],["__scopeId","data-v-99f02d39"]]),Qe=f({name:"ModalChangeDataToBase",props:{personalData:{required:!0,type:Object},closeModalUserEditProfile:{required:!0,type:Function}},setup(e){const t=O(),o=w(e.personalData.fat),n=w(e.personalData.carbohydrates),l=w(e.personalData.protein),c=p(()=>o.value*9+n.value*4+l.value*4);function s(){const i={fat:o.value,carbohydrates:n.value,protein:l.value,kcal:c.value};t.updateUserData(i),e.closeModalUserEditProfile()}function $(){e.closeModalUserEditProfile()}return{fat:o,carbohydrates:n,protein:l,calory:c,edit:s,handleClick:$}}});const M=e=>(U("data-v-1fbc7f4f"),e=e(),D(),e),Xe={class:"modal"},Ze=M(()=>a("h3",{class:"family-Nerko title"},"Edit calorific requirement",-1)),xe={class:"form__data"},et=M(()=>a("label",null,"Your Daily Fat in gram",-1)),tt=M(()=>a("label",null,"Your Carbohydrates in gram",-1)),at=M(()=>a("label",null,"Your Protein in gram",-1)),st={class:"form__data-calory-box"},ot=M(()=>a("h3",{class:"family-Nerko"},"Your Calory",-1)),nt={class:"calory"},rt=M(()=>a("div",{class:"form__buttons"},[a("button",{class:"form__buttons-save",type:"submit"},"Save")],-1));function lt(e,t,o,n,l,c){return r(),m("div",Xe,[a("div",{class:"shadow",onClick:t[0]||(t[0]=(...s)=>e.handleClick&&e.handleClick(...s))}),a("form",{onSubmit:t[4]||(t[4]=H((...s)=>e.edit&&e.edit(...s),["prevent"])),class:"form"},[Ze,a("div",xe,[et,B(a("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=s=>e.fat=s)},null,512),[[q,e.fat]]),tt,B(a("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=s=>e.carbohydrates=s)},null,512),[[q,e.carbohydrates]]),at,B(a("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=s=>e.protein=s)},null,512),[[q,e.protein]]),a("div",st,[ot,a("span",nt,b(e.calory)+" calories",1)])]),rt],32)])}const it=y(Qe,[["render",lt],["__scopeId","data-v-1fbc7f4f"]]),ct=f({name:"ProfileView",components:{UserProfileBox:se,AppCaloryChartVue:ke,UserMealList:Re,AppNewDayButtonVue:Je,ModalChangeUserData:it},setup(){const e=O(),t=T(),o=w(!1);J(async()=>{await e.downloadUserData(),await t.getUserMeal()});function n(){o.value=!1}function l(){o.value=!0}return{useMeal:t,useUser:e,closeModalUserEditProfile:n,showModalUserEditProfile:o,openModalUserEditProfile:l}}});const dt={class:"profile-view"},ut={class:"profile-view__top"},_t={class:"box-pc"};function pt(e,t,o,n,l,c){const s=u("UserProfileBox"),$=u("AppNewDayButtonVue"),i=u("AppCaloryChartVue"),d=u("UserMealList"),_=u("ModalChangeUserData");return r(),m("div",dt,[a("div",ut,[g(s,{personalData:e.useUser.loggedUser,OpenModalUserEditProfile:e.openModalUserEditProfile},null,8,["personalData","OpenModalUserEditProfile"]),g($)]),a("div",_t,[(r(),h(i,{personalData:e.useUser.loggedUser,useDailyMeals:e.useMeal.useDailyMeals,key:e.useUser.userChangeData},null,8,["personalData","useDailyMeals"])),g(d,{useMeal:e.useMeal},null,8,["useMeal"]),e.showModalUserEditProfile?(r(),h(_,{key:0,personalData:e.useUser.loggedUser,closeModalUserEditProfile:e.closeModalUserEditProfile},null,8,["personalData","closeModalUserEditProfile"])):N("",!0)])])}const yt=y(ct,[["render",pt],["__scopeId","data-v-41e073b3"]]);export{yt as default};
