import{r as m,E as B,x as V,y as $,_ as g,A as I,c as h,a as M,o as d,b as u,e,t as p,f as A,g as C,G as T,h as y,d as x,w as L,i as k,p as D,l as S,H as q,F as N,q as E,I as j,j as w,n as b,D as G}from"./index.e1c2ee62.js";import{u as H}from"./meals.98217b04.js";async function K(){const s=m([]);return(await B(V($,"meals"))).forEach(t=>{s.value.push(t.data())}),{mealsList:s}}const P={name:"ModalAddMeal",components:{AppButton:I},props:{picketMeal:{required:!0},closeModal:{required:!0}},setup(s){const o=m(0),t=m(100),a=H(),_=h(()=>{let c=s.picketMeal.kcal;return(parseFloat(c)*(t.value/100)).toFixed(1)}),r=h(()=>{let c=s.picketMeal.carbohydrates;return(parseFloat(c)*(t.value/100)).toFixed(1)}),n=h(()=>{let c=s.picketMeal.protein;return(parseFloat(c)*(t.value/100)).toFixed(1)}),l=h(()=>{let c=s.picketMeal.fat;return(parseFloat(c)*(t.value/100)).toFixed(1)});function i(){if(t.value>0){const c={idD:Math.floor(Math.random()*200),meal:{name:s.picketMeal.name,kcal:_.value,carbohydrates:r.value,protein:n.value,fat:l.value,id:s.picketMeal.id}};console.log(c),o.value=1,a.addDailyMeal(c),setTimeout(()=>{s.closeModal()},500)}else o.value=2}return{times:t,kcal:_,carb:r,protein:n,fat:l,message:o,addToDailyList:i}}},f=s=>(D("data-v-f0f03ecc"),s=s(),S(),s),U={class:"modal"},O={class:"form"},z={class:"form__name"},J={class:"form__box"},Q=f(()=>e("span",{class:"form__box-name"},"Calories",-1)),R={class:"form__box-info green"},W={class:"form__box"},X=f(()=>e("span",{class:"form__box-name"},"Carbohydrates",-1)),Y={class:"form__box-info orange"},Z={class:"form__box"},ee=f(()=>e("span",{class:"form__box-name"},"Protein",-1)),ae={class:"form__box-info blue"},se={class:"form__box"},te=f(()=>e("span",{class:"form__box-name"},"Fat",-1)),oe={class:"form__box-info red"},le=f(()=>e("label",{class:"form__label"}," How many gram ?",-1)),ne={key:0,class:"form__alert"},ie=f(()=>e("span",null,[k("Meal added "),e("i",{class:"fas fa-check-circle"})],-1)),ce=[ie],de={key:1,class:"form__alert form__alert-error"},_e=f(()=>e("span",null,[k("Please add gram "),e("i",{class:"far fa-times-circle"})],-1)),re=[_e];function me(s,o,t,a,_,r){const n=M("AppButton");return d(),u("div",U,[e("div",{class:"shadow",onClick:o[0]||(o[0]=(...l)=>t.closeModal&&t.closeModal(...l))}),e("div",O,[e("i",{onClick:o[1]||(o[1]=(...l)=>t.closeModal&&t.closeModal(...l)),class:"fas fa-times-circle form__exit"}),e("h3",z,p(t.picketMeal.name),1),e("div",J,[Q,e("span",R,p(a.kcal),1)]),e("div",W,[X,e("span",Y,p(a.carb),1)]),e("div",Z,[ee,e("span",ae,p(a.protein),1)]),e("div",se,[te,e("span",oe,p(a.fat),1)]),le,A(e("input",{class:"form__input",type:"text","onUpdate:modelValue":o[2]||(o[2]=l=>a.times=l),onKeyup:o[3]||(o[3]=T((...l)=>a.addToDailyList&&a.addToDailyList(...l),["enter"]))},null,544),[[C,a.times]]),a.message===1?(d(),u("div",ne,ce)):y("",!0),a.message===2?(d(),u("div",de,re)):y("",!0),x(n,{class:"form__add",onClick:a.addToDailyList,disabled:a.message==1},{default:L(()=>[k(" Add ")]),_:1},8,["onClick","disabled"])])])}const ue=g(P,[["render",me],["__scopeId","data-v-f0f03ecc"]]);const fe={name:"MealListFromFirebaseItem",components:{AppButton:I},props:{meal:{required:!0},openModal:{required:!0}},setup(){}},pe={class:"item"};function he(s,o,t,a,_,r){const n=M("AppButton");return d(),u("li",pe,[e("h3",null,p(t.meal.name),1),x(n,{onClick:o[0]||(o[0]=l=>t.openModal(t.meal)),className:"btn"},{default:L(()=>[k("Add meal")]),_:1})])}const Me=g(fe,[["render",he],["__scopeId","data-v-b879f252"]]);const be={name:"MealListFromFirebase",components:{MealListFromFirebaseItem:Me,ModalAddMeal:ue},setup(){const s=m([]);async function o(){const{mealsList:i}=await K();s.value=[...i.value]}q(()=>{o()});const t=m(!1),a=m("");function _(i){a.value=Object.assign(i),t.value=!0}function r(){t.value=!1,a.value=""}const n=m(""),l=h(()=>s.value.filter(i=>i.name.toLowerCase().includes(n.value.toLowerCase())));return{list:s,openModal:_,modal:t,picketMeal:a,closeModal:r,searchMeal:n,filterList:l}}},v=s=>(D("data-v-a728ea8b"),s=s(),S(),s),ve={class:"box"},ge=v(()=>e("img",{src:b,alt:"","aria-hidden":"true",class:"img img1"},null,-1)),xe=v(()=>e("img",{src:b,alt:"","aria-hidden":"true",class:"img img2"},null,-1)),ke=v(()=>e("img",{src:b,alt:"","aria-hidden":"true",class:"img img3"},null,-1)),Fe=v(()=>e("img",{src:b,alt:"","aria-hidden":"true",class:"img img4"},null,-1)),ye={class:"box__search"},Le=v(()=>e("i",{class:"fas fa-search icon"},null,-1));function we(s,o,t,a,_,r){const n=M("MealListFromFirebaseItem"),l=M("ModalAddMeal");return d(),u("div",null,[e("div",ve,[x(j,{name:"list-base",tag:"ul",class:"box__list"},{default:L(()=>[(d(!0),u(N,null,E(a.filterList,i=>(d(),w(n,{key:i.name,meal:i,openModal:a.openModal},null,8,["meal","openModal"]))),128))]),_:1}),ge,xe,ke,Fe]),e("div",ye,[Le,A(e("input",{type:"search",placeholder:"Search Meal","onUpdate:modelValue":o[0]||(o[0]=i=>a.searchMeal=i)},null,512),[[C,a.searchMeal]])]),a.modal?(d(),w(l,{key:0,picketMeal:a.picketMeal,closeModal:a.closeModal},null,8,["picketMeal","closeModal"])):y("",!0)])}const Ie=g(be,[["render",we],["__scopeId","data-v-a728ea8b"]]),Ae="/icons/hamburger.png",Ce="/icons/salad.png";const De={name:"MealList",components:{MealListFromFirebase:Ie}},Se={class:"meal-list"},Be=G('<div class="meal-list__top" data-v-bf8cb817><h3 class="meal-list__top-title" data-v-bf8cb817>Meal List</h3><img class="meal-list__top-img hamburger" src="'+Ae+'" alt="" aria-hidden="true" data-v-bf8cb817><img class="meal-list__top-img" src="'+b+'" alt="" aria-hidden="true" data-v-bf8cb817><img class="meal-list__top-img salta" src="'+Ce+'" alt="" aria-hidden="true" data-v-bf8cb817><div class="meal-list__top-shadow" data-v-bf8cb817></div></div>',1),Ve={class:"meal-list__middle"};function $e(s,o,t,a,_,r){const n=M("MealListFromFirebase");return d(),u("div",Se,[Be,e("div",Ve,[x(n)])])}const Ne=g(De,[["render",$e],["__scopeId","data-v-bf8cb817"]]);export{Ne as default};
