import{L as C}from"./LoadingModal.d0f80765.js";import{_ as V,A as I,u as N,r as c,w as M,c as q,a as _,o as v,b as w,d as t,e as b,f as o,g as x,v as W,h as S,t as E,i as k,j as A,k as y,l as R,p as F,m as L,T as G}from"./index.701fc1fb.js";function O(e){if(e.sex==="F"){let a=(665+9.6*parseFloat(e.weight)+1.8*parseFloat(e.height)-4.7*parseFloat(e.age))*1.4;e.goal==="L"?a=a-300:e.goal==="G"&&(a=a+300);let p=a*.3/9,s=a*.2/4,r=a*.5/4;return e.fat=parseInt(p),e.carbohydrates=parseInt(r),e.protein=parseInt(s),e.kcal=parseInt(a),e}else{let a=(66+13.7*parseFloat(e.weight)+5*parseFloat(e.height)-6.8*parseFloat(e.age))*1.4;e.goal==="L"?a=a-400:e.goal==="G"&&(a=a+400);let p=a*.3/9,s=a*.2/4,r=a*.5/4;return e.fat=parseInt(p),e.carbohydrates=parseInt(r),e.protein=parseInt(s),e.kcal=parseInt(a),console.log(e),e}}const j={name:"AppRegistration",components:{AppModal:C,AppButton:I},setup(){const e=N(),a=R(),p={name:"required|min:3|max:100|alphaSpaces",email:"required|email",password:"required|min:6|max:100|excluded:password",confirmPassword:"passwordMismatch:@password",age:"required|minVal:16|maxVal:120",height:"required|minVal:30|maxVal:300",weight:"required|minVal:30|maxVal:300"},s={sex:"M",goal:"L"},r=c(!1),d=c(0),n=c(0),l=c(0);M(d,m=>{m<0&&(d.value=0)}),M(n,m=>{m<0&&(n.value=0)}),M(d,m=>{m<0&&(l.value=0)});const u=c("Wait"),f=c(!1),h=c(!1),g=c(!0),D=q(()=>parseFloat(d.value)*9+parseFloat(n.value)*4+parseFloat(l.value*4));function Y(){f.value=!1,a.push({name:"profile"})}async function T(m){if(h.value=!0,f.value=!0,r.value)m.fat=parseInt(d.value),m.carbohydrates=parseInt(n.value),m.protein=parseInt(l.value),m.kcal=parseInt(D.value),await e.register(m),u.value="Yeey welcome :)",g.value=!1,h.value=!1;else{let U=O(m);await e.register(U),u.value="Yeey welcome :)",g.value=!1,h.value=!1}}return{schema:p,userData:s,advancedOptions:r,fat:d,carbohydrates:n,protein:l,calory:D,closeModal:Y,registration:T,message:u,showModal:f,passData:g,regInSubmission:h}}},i=e=>(F("data-v-158137d4"),e=e(),L(),e),H=i(()=>o("h3",{class:"family-Nerko title"},"Registration",-1)),z={class:"form-container"},J={class:"login__form-box"},K=i(()=>o("label",{class:"login__form-box-label"},"Name",-1)),Q={class:"login__form-box"},X=i(()=>o("label",{class:"login__form-box-label"},"Email",-1)),Z={class:"login__form-box"},$=i(()=>o("label",{class:"login__form-box-label"},"Password",-1)),oo={class:"login__form-box"},eo=i(()=>o("label",{class:"login__form-box-label"},"Confirm Password",-1)),so={class:"input-select"},ao=i(()=>o("label",null,"Sex",-1)),to=i(()=>o("option",{value:"M"},"Male",-1)),no=i(()=>o("option",{value:"F"},"Female",-1)),lo={class:"login__form-box"},io=i(()=>o("label",{class:"login__form-box-label"},"Age",-1)),ro={class:"login__form-box"},co=i(()=>o("label",{class:"login__form-box-label"},"Height",-1)),_o={class:"login__form-box"},mo=i(()=>o("label",{class:"login__form-box-label"},"Weight",-1)),po={class:"input-select"},go=i(()=>o("label",null,"Your Goal",-1)),uo=i(()=>o("option",{value:"L"},"lost weight",-1)),fo=i(()=>o("option",{value:"M"},"weight maintenance",-1)),ho=i(()=>o("option",{value:"G"},"gain weight",-1)),bo={class:"input-check"},vo=i(()=>o("label",null,"Advanced options",-1)),xo={key:0,class:"advanced-options"},wo=i(()=>o("label",null,"Your Daily Fat in gram",-1)),yo=i(()=>o("label",null,"Your Carbohydrates in gram",-1)),Mo=i(()=>o("label",null,"Your Protein in gram",-1)),So={class:"calory-box"},ko=i(()=>o("h3",{class:"family-Nerko"},"Your Calory",-1)),Vo={class:"calory"},Io={class:"login__form-btn"};function Ao(e,a,p,s,r,d){const n=_("VeeField"),l=_("ErrorMessage"),u=_("AppButton"),f=_("VeeForm"),h=_("AppModal");return v(),w("div",null,[t(f,{"validation-schema":s.schema,onSubmit:s.registration,"initial-values":s.userData,class:"login__form"},{default:b(()=>[H,o("div",z,[o("div",J,[K,t(n,{class:"login__form-box-input",name:"name",type:"text"}),t(l,{class:"error",name:"name"})]),o("div",Q,[X,t(n,{class:"login__form-box-input",name:"email",type:"email"}),t(l,{class:"error",name:"email"})]),o("div",Z,[$,t(n,{class:"login__form-box-input",name:"password",type:"password"}),t(l,{class:"error",name:"password"})]),o("div",oo,[eo,t(n,{class:"login__form-box-input",name:"confirmPassword",type:"password"}),t(l,{class:"error",name:"confirmPassword"})]),o("div",so,[ao,t(n,{as:"select",name:"sex"},{default:b(()=>[to,no]),_:1}),t(l,{class:"error",name:"sex"})]),o("div",lo,[io,t(n,{class:"login__form-box-input",name:"age",type:"number"}),t(l,{class:"error",name:"age"})]),o("div",ro,[co,t(n,{class:"login__form-box-input",name:"height",type:"number"}),t(l,{class:"error",name:"height"})]),o("div",_o,[mo,t(n,{class:"login__form-box-input",name:"weight",type:"number"}),t(l,{class:"error",name:"weight"})]),o("div",po,[go,t(n,{as:"select",name:"goal"},{default:b(()=>[uo,fo,ho]),_:1}),t(l,{class:"error",name:"goal"})]),o("div",bo,[x(o("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=g=>s.advancedOptions=g)},null,512),[[W,s.advancedOptions]]),vo]),s.advancedOptions?(v(),w("div",xo,[wo,x(o("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=g=>s.fat=g)},null,512),[[S,s.fat]]),yo,x(o("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=g=>s.carbohydrates=g)},null,512),[[S,s.carbohydrates]]),Mo,x(o("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=g=>s.protein=g)},null,512),[[S,s.protein]]),o("div",So,[ko,o("span",Vo,E(s.calory)+" calories",1)])])):k("",!0)]),o("div",Io,[t(u,{disabled:s.regInSubmission},{default:b(()=>[A(" Submit ")]),_:1},8,["disabled"])])]),_:1},8,["validation-schema","onSubmit","initial-values"]),s.showModal?(v(),y(h,{key:0,message:s.message,passData:s.passData,showModal:s.showModal,closeModal:s.closeModal},null,8,["message","passData","showModal","closeModal"])):k("",!0)])}const Fo=V(j,[["render",Ao],["__scopeId","data-v-158137d4"]]);const Lo={name:"AppLogin",components:{LoadingModal:C,AppButton:I},setup(){const e=N(),a=R(),p=c(!1),s={email:"required|email",password:"required|min:6|max:100"},r=c("Wait"),d=c(!1),n=c(!1),l=c(!0);async function u(h){n.value=!0,d.value=!0,p.value=!1,r.value="Wait",l.value=!0;try{await e.login(h),r.value="Welcome Crab",l.value=!1,n.value=!1}catch{r.value="Email or password is incorrect",l.value=!1,n.value=!1,p.value=!0}}function f(){d.value=!1,p.value!==!0&&a.push({name:"profile"})}return{loginSchema:s,login:u,message:r,showModal:d,regInSubmission:n,passData:l,closeModal:f}}},B=e=>(F("data-v-431d39e9"),e=e(),L(),e),Bo={class:"box"},Do=B(()=>o("h3",{class:"family-Nerko login__form-title"},"Login",-1)),Co={class:"login__form-box"},No=B(()=>o("label",{class:"login__form-box-label"},"Email",-1)),qo={class:"login__form-box"},Eo=B(()=>o("label",{class:"login__form-box-label"},"Password",-1)),Ro={class:"login__form-btn"};function Po(e,a,p,s,r,d){const n=_("VeeField"),l=_("ErrorMessage"),u=_("AppButton"),f=_("VeeForm"),h=_("LoadingModal");return v(),w("div",Bo,[t(f,{"validation-schema":s.loginSchema,onSubmit:s.login,class:"login__form"},{default:b(()=>[Do,o("div",Co,[No,t(n,{class:"login__form-box-input cypress-login",name:"email",type:"email"}),t(l,{class:"error",name:"email"})]),o("div",qo,[Eo,t(n,{class:"login__form-box-input cypress-password",name:"password",type:"password"}),t(l,{class:"error",name:"password"})]),o("div",Ro,[t(u,{class:"cypress-btn",disabled:s.regInSubmission},{default:b(()=>[A(" Submit ")]),_:1},8,["disabled"])])]),_:1},8,["validation-schema","onSubmit"]),s.showModal?(v(),y(h,{key:0,message:s.message,passData:s.passData,showModal:s.showModal,closeModal:s.closeModal},null,8,["message","passData","showModal","closeModal"])):k("",!0)])}const Yo=V(Lo,[["render",Po],["__scopeId","data-v-431d39e9"]]);const To={name:"LoginSingView",components:{AppRegistration:Fo,AppLogin:Yo,AppButton:I},setup(){const e=c(!1),a=q(()=>e.value?"Registration":"Login");return{login:e,loginButtonText:a}}},P=e=>(F("data-v-0021fe9e"),e=e(),L(),e),Uo={class:"login"},Wo=P(()=>o("i",{class:"fas fa-arrow-alt-circle-left login__back"},null,-1)),Go={class:"flex-box"},Oo=P(()=>o("h2",{class:"login__title family-Nerko"},"Craby Family",-1));function jo(e,a,p,s,r,d){const n=_("router-link"),l=_("AppButton"),u=_("AppRegistration"),f=_("AppLogin");return v(),w("div",Uo,[t(n,{to:{name:"home"}},{default:b(()=>[Wo]),_:1}),o("div",Go,[Oo,t(l,{"data-button":"",onClick:a[0]||(a[0]=h=>s.login=!s.login),className:"login__switch"},{default:b(()=>[A(E(s.loginButtonText),1)]),_:1})]),t(G,{name:"fade",mode:"out-in"},{default:b(()=>[s.login?(v(),y(f,{key:1})):(v(),y(u,{key:0}))]),_:1})])}const Jo=V(To,[["render",jo],["__scopeId","data-v-0021fe9e"]]);export{Jo as default};
