import{L as D}from"./LoadingModal.6cfdb490.js";import{_ as k,A as V,u as C,r as c,c as N,a as _,o as b,b as w,d as t,w as h,e as o,f as x,v as U,g as M,t as q,h as S,i as I,j as y,k as E,p as A,l as F,T as W}from"./index.c84f11bc.js";function G(e){if(e.sex==="F"){let a=(665+9.6*parseFloat(e.weight)+1.8*parseFloat(e.height)-4.7*parseFloat(e.age))*1.4;e.goal==="L"?a=a-300:e.goal==="G"&&(a=a+300);let d=a*.3/9,s=a*.2/4,r=a*.5/4;return e.fat=parseInt(d),e.carbohydrates=parseInt(r),e.protein=parseInt(s),e.kcal=parseInt(a),e}else{let a=(66+13.7*parseFloat(e.weight)+5*parseFloat(e.height)-6.8*parseFloat(e.age))*1.4;e.goal==="L"?a=a-400:e.goal==="G"&&(a=a+400);let d=a*.3/9,s=a*.2/4,r=a*.5/4;return e.fat=parseInt(d),e.carbohydrates=parseInt(r),e.protein=parseInt(s),e.kcal=parseInt(a),console.log(e),e}}const O={name:"AppRegistration",components:{AppModal:D,AppButton:V},setup(){const e=C(),a=E(),d={name:"required|min:3|max:100|alphaSpaces",email:"required|email",password:"required|min:6|max:100|excluded:password",confirmPassword:"passwordMismatch:@password",age:"required|minVal:16|maxVal:120",height:"required|minVal:30|maxVal:300",weight:"required|minVal:30|maxVal:300"},s={sex:"M",goal:"L"},r=c(!1),f=c(0),n=c(0),l=c(0),p=c("Wait"),g=c(!1),u=c(!1),m=c(!0),B=N(()=>parseFloat(f.value)*9+parseFloat(n.value)*4+parseFloat(l.value*4));function P(){g.value=!1,a.push({name:"profile"})}async function Y(v){if(u.value=!0,g.value=!0,r.value)v.fat=parseInt(f.value),v.carbohydrates=parseInt(n.value),v.protein=parseInt(l.value),v.kcal=parseInt(B.value),await e.register(v),p.value="Yeey welcome :)",m.value=!1,u.value=!1;else{let T=G(v);await e.register(T),p.value="Yeey welcome :)",m.value=!1,u.value=!1}}return{schema:d,userData:s,advancedOptions:r,fat:f,carbohydrates:n,protein:l,calory:B,closeModal:P,registration:Y,message:p,showModal:g,passData:m,regInSubmission:u}}},i=e=>(A("data-v-b20b83fc"),e=e(),F(),e),j=i(()=>o("h3",{class:"family-Nerko title"},"Registration",-1)),H={class:"form-container"},z={class:"login__form-box"},J=i(()=>o("label",{class:"login__form-box-label"},"Name",-1)),K={class:"login__form-box"},Q=i(()=>o("label",{class:"login__form-box-label"},"Email",-1)),X={class:"login__form-box"},Z=i(()=>o("label",{class:"login__form-box-label"},"Password",-1)),$={class:"login__form-box"},oo=i(()=>o("label",{class:"login__form-box-label"},"Confirm Password",-1)),eo={class:"input-select"},so=i(()=>o("label",null,"Sex",-1)),ao=i(()=>o("option",{value:"M"},"Male",-1)),to=i(()=>o("option",{value:"F"},"Female",-1)),no={class:"login__form-box"},lo=i(()=>o("label",{class:"login__form-box-label"},"Age",-1)),io={class:"login__form-box"},ro=i(()=>o("label",{class:"login__form-box-label"},"Height",-1)),co={class:"login__form-box"},_o=i(()=>o("label",{class:"login__form-box-label"},"Weight",-1)),mo={class:"input-select"},po=i(()=>o("label",null,"Your Goal",-1)),go=i(()=>o("option",{value:"L"},"lost weight",-1)),uo=i(()=>o("option",{value:"M"},"weight maintenance",-1)),fo=i(()=>o("option",{value:"G"},"gain weight",-1)),ho={class:"input-check"},bo=i(()=>o("label",null,"Advanced options",-1)),vo={key:0,class:"advanced-options"},xo=i(()=>o("label",null,"Your Daily Fat in gram",-1)),wo=i(()=>o("label",null,"Your Carbohydrates in gram",-1)),yo=i(()=>o("label",null,"Your Protein in gram",-1)),Mo={class:"calory-box"},So=i(()=>o("h3",{class:"family-Nerko"},"Your Calory",-1)),ko={class:"calory"},Vo={class:"login__form-btn"};function Io(e,a,d,s,r,f){const n=_("VeeField"),l=_("ErrorMessage"),p=_("AppButton"),g=_("VeeForm"),u=_("AppModal");return b(),w("div",null,[t(g,{"validation-schema":s.schema,onSubmit:s.registration,"initial-values":s.userData,class:"login__form"},{default:h(()=>[j,o("div",H,[o("div",z,[J,t(n,{class:"login__form-box-input",name:"name",type:"text"}),t(l,{class:"error",name:"name"})]),o("div",K,[Q,t(n,{class:"login__form-box-input",name:"email",type:"email"}),t(l,{class:"error",name:"email"})]),o("div",X,[Z,t(n,{class:"login__form-box-input",name:"password",type:"password"}),t(l,{class:"error",name:"password"})]),o("div",$,[oo,t(n,{class:"login__form-box-input",name:"confirmPassword",type:"password"}),t(l,{class:"error",name:"confirmPassword"})]),o("div",eo,[so,t(n,{as:"select",name:"sex"},{default:h(()=>[ao,to]),_:1}),t(l,{class:"error",name:"sex"})]),o("div",no,[lo,t(n,{class:"login__form-box-input",name:"age",type:"number"}),t(l,{class:"error",name:"age"})]),o("div",io,[ro,t(n,{class:"login__form-box-input",name:"height",type:"number"}),t(l,{class:"error",name:"height"})]),o("div",co,[_o,t(n,{class:"login__form-box-input",name:"weight",type:"number"}),t(l,{class:"error",name:"weight"})]),o("div",mo,[po,t(n,{as:"select",name:"goal"},{default:h(()=>[go,uo,fo]),_:1}),t(l,{class:"error",name:"goal"})]),o("div",ho,[x(o("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=m=>s.advancedOptions=m)},null,512),[[U,s.advancedOptions]]),bo]),s.advancedOptions?(b(),w("div",vo,[xo,x(o("input",{type:"number","onUpdate:modelValue":a[1]||(a[1]=m=>s.fat=m)},null,512),[[M,s.fat]]),wo,x(o("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=m=>s.carbohydrates=m)},null,512),[[M,s.carbohydrates]]),yo,x(o("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=m=>s.protein=m)},null,512),[[M,s.protein]]),o("div",Mo,[So,o("span",ko,q(s.calory)+" calories",1)])])):S("",!0)]),o("div",Vo,[t(p,{disabled:s.regInSubmission},{default:h(()=>[I(" Submit ")]),_:1},8,["disabled"])])]),_:1},8,["validation-schema","onSubmit","initial-values"]),s.showModal?(b(),y(u,{key:0,message:s.message,passData:s.passData,showModal:s.showModal,closeModal:s.closeModal},null,8,["message","passData","showModal","closeModal"])):S("",!0)])}const Ao=k(O,[["render",Io],["__scopeId","data-v-b20b83fc"]]);const Fo={name:"AppLogin",components:{LoadingModal:D,AppButton:V},setup(){const e=C(),a=E(),d=c(!1),s={email:"required|email",password:"required|min:6|max:100"},r=c("Wait"),f=c(!1),n=c(!1),l=c(!0);async function p(u){n.value=!0,f.value=!0,d.value=!1,r.value="Wait",l.value=!0;try{await e.login(u),r.value="Welcome Crab",l.value=!1,n.value=!1}catch{r.value="Email or password is incorrect",l.value=!1,n.value=!1,d.value=!0}}function g(){f.value=!1,d.value!==!0&&a.push({name:"profile"})}return{loginSchema:s,login:p,message:r,showModal:f,regInSubmission:n,passData:l,closeModal:g}}},L=e=>(A("data-v-431d39e9"),e=e(),F(),e),Lo={class:"box"},Bo=L(()=>o("h3",{class:"family-Nerko login__form-title"},"Login",-1)),Do={class:"login__form-box"},Co=L(()=>o("label",{class:"login__form-box-label"},"Email",-1)),No={class:"login__form-box"},qo=L(()=>o("label",{class:"login__form-box-label"},"Password",-1)),Eo={class:"login__form-btn"};function Ro(e,a,d,s,r,f){const n=_("VeeField"),l=_("ErrorMessage"),p=_("AppButton"),g=_("VeeForm"),u=_("LoadingModal");return b(),w("div",Lo,[t(g,{"validation-schema":s.loginSchema,onSubmit:s.login,class:"login__form"},{default:h(()=>[Bo,o("div",Do,[Co,t(n,{class:"login__form-box-input cypress-login",name:"email",type:"email"}),t(l,{class:"error",name:"email"})]),o("div",No,[qo,t(n,{class:"login__form-box-input cypress-password",name:"password",type:"password"}),t(l,{class:"error",name:"password"})]),o("div",Eo,[t(p,{class:"cypress-btn",disabled:s.regInSubmission},{default:h(()=>[I(" Submit ")]),_:1},8,["disabled"])])]),_:1},8,["validation-schema","onSubmit"]),s.showModal?(b(),y(u,{key:0,message:s.message,passData:s.passData,showModal:s.showModal,closeModal:s.closeModal},null,8,["message","passData","showModal","closeModal"])):S("",!0)])}const Po=k(Fo,[["render",Ro],["__scopeId","data-v-431d39e9"]]);const Yo={name:"LoginSingView",components:{AppRegistration:Ao,AppLogin:Po,AppButton:V},setup(){const e=c(!1),a=N(()=>e.value?"Registration":"Login");return{login:e,loginButtonText:a}}},R=e=>(A("data-v-0021fe9e"),e=e(),F(),e),To={class:"login"},Uo=R(()=>o("i",{class:"fas fa-arrow-alt-circle-left login__back"},null,-1)),Wo={class:"flex-box"},Go=R(()=>o("h2",{class:"login__title family-Nerko"},"Craby Family",-1));function Oo(e,a,d,s,r,f){const n=_("router-link"),l=_("AppButton"),p=_("AppRegistration"),g=_("AppLogin");return b(),w("div",To,[t(n,{to:{name:"home"}},{default:h(()=>[Uo]),_:1}),o("div",Wo,[Go,t(l,{"data-button":"",onClick:a[0]||(a[0]=u=>s.login=!s.login),className:"login__switch"},{default:h(()=>[I(q(s.loginButtonText),1)]),_:1})]),t(W,{name:"fade",mode:"out-in"},{default:h(()=>[s.login?(b(),y(g,{key:1})):(b(),y(p,{key:0}))]),_:1})])}const zo=k(Yo,[["render",Oo],["__scopeId","data-v-0021fe9e"]]);export{zo as default};
