import{_ as p,o as r,b as _,e as s,t as g,p as $,l as D,c as f,C as E,h as I,i as w,n as C,Q as B,a as d,j as h,w as v,d as M,q,F as L,D as W,I as Y,T as O,A as R,u as V,r as b,f as x,g as k,m as j,R as z}from"./index.67b42394.js";import{u as S}from"./meals.2969599c.js";const G="/icons/frankenstein.png";const K={name:"UserProfileBox",props:{personalData:{required:!0},OpenModalUserEditProfile:{required:!0}}},Q=e=>($("data-v-9adf20e4"),e=e(),D(),e),H={class:"profile"},J=Q(()=>s("img",{src:G,alt:""},null,-1)),X={class:"profile__name family-Nerko"};function Z(e,o,a,t,l,c){return r(),_("div",H,[J,s("div",X,g(a.personalData.name),1),s("i",{onClick:o[0]||(o[0]=(...n)=>a.OpenModalUserEditProfile&&a.OpenModalUserEditProfile(...n)),class:"settings fas fa-cog"})])}const ee=p(K,[["render",Z],["__scopeId","data-v-9adf20e4"]]);const te={name:"CaloryChartItem",props:{name:{required:!0},counted:{required:!0},used:{required:!0},personalData:{required:!0},parameter:{required:!0}},setup(e){const o=f(()=>e.counted.value==="100%"?"lightgreen":"rgb(115, 184, 152) "),a=f(()=>e.counted.value==="100%"?"lightgreen":"rgba(253, 193, 104,.8)");return{backgroundColorColorChangeCircle:o,backgroundColorColorChangeFill:a}}},ae={class:"item"},oe={class:"item__title family-Nerko"},se={class:"item__bar"},ne={key:0,class:"fas fa-check"},re={key:1,class:"img",src:C,alt:"","aria-hidden":"true"},le={class:"item__info"},ce={class:"color-orange"};function ie(e,o,a,t,l,c){return r(),_("div",ae,[s("h3",oe,g(a.name),1),s("div",se,[s("div",{class:"item__bar-fill",style:E({height:a.counted.value,backgroundColor:t.backgroundColorColorChangeFill})},null,4),s("div",{class:"item__bar-circle",style:E({backgroundColor:t.backgroundColorColorChangeCircle})},[a.counted.value==="100%"?(r(),_("i",ne)):I("",!0),a.counted.value==="100%"?(r(),_("img",re)):I("",!0)],4)]),s("p",le,[s("span",ce,g(Math.floor(a.used[a.parameter])),1),w(" / "+g(a.personalData[a.parameter]),1)])])}const de=p(te,[["render",ie],["__scopeId","data-v-560e9a64"]]);const _e={name:"WindowsComponent"},ue={class:"window-component"};function pe(e,o,a,t,l,c){return r(),_("div",ue,[B(e.$slots,"default",{},void 0,!0)])}const A=p(_e,[["render",pe],["__scopeId","data-v-82493293"]]);const me={name:"ComponentTitle"},fe={class:"title family-Nerko"};function he(e,o,a,t,l,c){return r(),_("h2",fe,[B(e.$slots,"default",{},void 0,!0)])}const N=p(me,[["render",he],["__scopeId","data-v-aef4a5dd"]]);const ye={name:"CaloryChart",components:{CaloryChartItem:de,WindowComponent:A,ComponentTitle:N},props:{personalData:{required:!0},useDailyMeals:{required:!0}},setup(e){const o=f(()=>{const i={kcal:0,protein:0,carbohydrates:0,fat:0};return e.useDailyMeals.forEach(({meal:u})=>{for(const y in u)for(const P in i)y===P&&(i[P]+=parseFloat(u[y]))}),i}),a=f(()=>n("protein")),t=f(()=>n("fat")),l=f(()=>n("carbohydrates")),c=f(()=>n("kcal"));function n(i){return o.value[i]>e.personalData[i]?"100%":o.value[i]/e.personalData[i]*100+"%"}return{used:o,ComponentRenderArray:[{name:"Protein",counted:a,parameter:"protein"},{name:"Fat",counted:t,parameter:"fat"},{name:"Carbohydrates",counted:l,parameter:"carbohydrates"},{name:"Calory",counted:c,parameter:"kcal"}]}}},T=e=>($("data-v-9bda357d"),e=e(),D(),e),ve=T(()=>s("img",{class:"img img1",src:C,alt:"","aria-hidden":"true"},null,-1)),Ce=T(()=>s("img",{class:"img img2",src:C,alt:"","aria-hidden":"true"},null,-1)),ge={class:"chart__top"},Me={class:"chart__middle"};function Ue(e,o,a,t,l,c){const n=d("ComponentTitle"),m=d("CaloryChartItem"),i=d("WindowComponent");return r(),h(i,{class:"chart"},{default:v(()=>[ve,Ce,s("header",ge,[M(n,null,{default:v(()=>[w("Your Calory")]),_:1})]),s("div",Me,[(r(!0),_(L,null,q(t.ComponentRenderArray,u=>(r(),h(m,{key:u.name,name:u.name,counted:u.counted,used:t.used,personalData:a.personalData,parameter:u.parameter},null,8,["name","counted","used","personalData","parameter"]))),128))])]),_:1})}const $e=p(ye,[["render",Ue],["__scopeId","data-v-9bda357d"]]);const De={name:"UserMealListItem",props:{useMeal:{required:!0},product:{required:!0}},setup(e){async function o(a){await e.useMeal.removeMealFromDaily(a)}return{removeMeal:o}}},be=e=>($("data-v-a0384e3b"),e=e(),D(),e),we={class:"item"},xe=be(()=>s("img",{class:"img",src:C,alt:"","aria-hidden":"true"},null,-1)),ke={class:"item-cont"};function Ie(e,o,a,t,l,c){return r(),_("li",we,[xe,s("div",ke,[s("h3",null,g(a.product.meal.name),1),s("i",{onClick:o[0]||(o[0]=n=>t.removeMeal(a.product)),class:"fas fa-trash-alt"})])])}const Pe=p(De,[["render",Ie],["__scopeId","data-v-a0384e3b"]]);const Ee={name:"UserMealListEmpty"},Be={class:"empty"},qe=W('<div class="empty__imgs" data-v-fec87683><img class="img img1" src="'+C+'" alt="" aria-hidden="true" data-v-fec87683><img class="img img2" src="'+C+'" alt="" aria-hidden="true" data-v-fec87683><img class="img img3" src="'+C+'" alt="" aria-hidden="true" data-v-fec87683></div><h3 class="empty__info" data-v-fec87683>Empty List</h3>',2),Le=[qe];function Ve(e,o,a,t,l,c){return r(),_("div",Be,Le)}const Se=p(Ee,[["render",Ve],["__scopeId","data-v-fec87683"]]);const Ae={name:"UserMealList",components:{UserMealListItem:Pe,UserMealListEmpty:Se,WindowComponent:A,ComponentTitle:N},props:{useMeal:{required:!0}},setup(e){return{listMeal:f(()=>e.useMeal.useDailyMeals)}}},Ne={class:"box__top"},Te={class:"box__list"};function Fe(e,o,a,t,l,c){const n=d("ComponentTitle"),m=d("UserMealListItem"),i=d("UserMealListEmpty"),u=d("WindowComponent");return r(),h(u,{class:"box"},{default:v(()=>[s("header",Ne,[M(n,null,{default:v(()=>[w("Your Daily Meal")]),_:1})]),s("div",Te,[M(O,{name:"face",mode:"out-in"},{default:v(()=>[a.useMeal.useDailyMeals.length>0?(r(),h(Y,{key:0,name:"list",tag:"ul",class:"box__list-ul"},{default:v(()=>[(r(!0),_(L,null,q(t.listMeal,y=>(r(),h(m,{key:y.meal.id,product:y,useMeal:a.useMeal},null,8,["product","useMeal"]))),128))]),_:1})):(r(),h(i,{key:1}))]),_:1})])]),_:1})}const We=p(Ae,[["render",Fe],["__scopeId","data-v-33c02d35"]]);const Ye={name:"NewDayButton",components:{AppButton:R},setup(){return{useMeal:S()}}},F=e=>($("data-v-a20e25f8"),e=e(),D(),e),Oe=F(()=>s("i",{class:"fas fa-plus-square"},null,-1)),Re=F(()=>s("span",null,"New day",-1));function je(e,o,a,t,l,c){const n=d("AppButton");return r(),h(n,{className:"btn",onClick:t.useMeal.newDay},{default:v(()=>[Oe,w(),Re]),_:1},8,["onClick"])}const ze=p(Ye,[["render",je],["__scopeId","data-v-a20e25f8"]]);const Ge={name:"ModalChangeDataToBase",props:{personalData:{required:!0},closeModalUserEditProfile:{required:!0}},setup(e){const o=V(),a=b(e.personalData.fat),t=b(e.personalData.carbohydrates),l=b(e.personalData.protein),c=f(()=>parseFloat(a.value)*9+parseFloat(t.value)*4+parseFloat(l.value*4));function n(){const m={fat:a.value,carbohydrates:t.value,protein:l.value,kcal:c.value};o.updateUserData(m),e.closeModalUserEditProfile()}return{fat:a,carbohydrates:t,protein:l,calory:c,edit:n}}},U=e=>($("data-v-066646c8"),e=e(),D(),e),Ke={class:"modal"},Qe=U(()=>s("h3",{class:"family-Nerko title"},"Edit calorific requirement",-1)),He={class:"form__data"},Je=U(()=>s("label",null,"Your Daily Fat in gram",-1)),Xe=U(()=>s("label",null,"Your Carbohydrates in gram",-1)),Ze=U(()=>s("label",null,"Your Protein in gram",-1)),et={class:"form__data-calory-box"},tt=U(()=>s("h3",{class:"family-Nerko"},"Your Calory",-1)),at={class:"calory"},ot=U(()=>s("div",{class:"form__buttons"},[s("button",{class:"form__buttons-save",type:"submit"},"Save")],-1));function st(e,o,a,t,l,c){return r(),_("div",Ke,[s("div",{class:"shadow",onClick:o[0]||(o[0]=(...n)=>a.closeModalUserEditProfile&&a.closeModalUserEditProfile(...n))}),s("form",{onSubmit:o[4]||(o[4]=j((...n)=>t.edit&&t.edit(...n),["prevent"])),class:"form"},[Qe,s("div",He,[Je,x(s("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=n=>t.fat=n)},null,512),[[k,t.fat]]),Xe,x(s("input",{type:"number","onUpdate:modelValue":o[2]||(o[2]=n=>t.carbohydrates=n)},null,512),[[k,t.carbohydrates]]),Ze,x(s("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=n=>t.protein=n)},null,512),[[k,t.protein]]),s("div",et,[tt,s("span",at,g(t.calory)+" calories",1)])]),ot],32)])}const nt=p(Ge,[["render",st],["__scopeId","data-v-066646c8"]]);const rt={name:"ProfileView",components:{UserProfileBox:ee,AppCaloryChartVue:$e,UserMealList:We,AppNewDayButtonVue:ze,ModalChangeUserData:nt},setup(){const e=V(),o=S(),a=b(!1);z(async()=>{await e.downloadUserData(),await o.getUserMeal()});function t(){a.value=!1}function l(){a.value=!0}return{useUser:e,useMeal:o,closeModalUserEditProfile:t,showModalUserEditProfile:a,openModalUserEditProfile:l}}},lt={class:"profile-view"},ct={class:"profile-view__top"},it={class:"box-pc"};function dt(e,o,a,t,l,c){const n=d("UserProfileBox"),m=d("AppNewDayButtonVue"),i=d("AppCaloryChartVue"),u=d("UserMealList"),y=d("ModalChangeUserData");return r(),_("div",lt,[s("div",ct,[M(n,{personalData:t.useUser.loggedUser,OpenModalUserEditProfile:t.openModalUserEditProfile},null,8,["personalData","OpenModalUserEditProfile"]),M(m)]),s("div",it,[(r(),h(i,{personalData:t.useUser.loggedUser,useDailyMeals:t.useMeal.useDailyMeals,key:t.useUser.userChangeData},null,8,["personalData","useDailyMeals"])),M(u,{useMeal:t.useMeal},null,8,["useMeal"]),t.showModalUserEditProfile?(r(),h(y,{key:0,personalData:t.useUser.loggedUser,closeModalUserEditProfile:t.closeModalUserEditProfile},null,8,["personalData","closeModalUserEditProfile"])):I("",!0)])])}const pt=p(rt,[["render",dt],["__scopeId","data-v-c9142421"]]);export{pt as default};
